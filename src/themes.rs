use bevy::prelude::*;
use std::path::PathBuf;

#[derive(Resource, Debug)]
pub struct Theme {
    pub font: Color,
    pub btn_border: Color,
    pub menu_bg: Color,
    pub menu_btn_bg: Color,
    pub left_panel_bg: Color,
    pub canvas_bg_color: Option<Color>,
    pub canvas_bg_img: Option<PathBuf>,
    pub doc_list_bg: Color,
    pub search_box_bg: Color,
    pub search_box_border: Color,
    pub add_circle_bg: Color,
    pub add_rectangle_bg: Color,
    pub remove_node_bg: Color,
    pub arrow_btn_bg: Color,
    pub test_pos_btn_bg: Color,
    pub font_back_btn_bg: Color,
    pub celebrate_btn_bg: Color,
    pub tab_bg: Color,
    pub add_tab_bg: Color,
    pub bottom_panel_bg: Color,
    pub node_bg: Color,
    pub node_border: Color,
    pub arrow_connector: Color,
    pub arrow: Color,
    pub selected_node_border: Color,
    pub modal_bg: Color,
    pub ok_cancel_bg: Color,
    pub ok_cancel_font: Color,
    pub shadow: Color,
    pub modal_text_input_bg: Color,
    pub tooltip_bg: Color,
    pub code_theme_name: String,
}

pub fn velo_light() -> Theme {
    Theme {
        font: Color::rgb(0.0, 0.0, 0.0),
        btn_border: Color::rgb(0.5, 0.5, 0.5),
        menu_bg: Color::rgb(245.0 / 255.0, 245.0 / 255.0, 245.0 / 255.0),
        menu_btn_bg: Color::rgb(0.9, 0.9, 0.9),
        left_panel_bg: Color::rgb(224.0 / 255.0, 224.0 / 255.0, 224.0 / 255.0),
        canvas_bg_color: None,
        canvas_bg_img: Some(PathBuf::from("bg.png")),
        doc_list_bg: Color::rgb(0.95, 0.95, 0.95),
        search_box_bg: Color::rgb(0.9, 0.9, 0.9),
        search_box_border: Color::rgb(0.8, 0.8, 0.8),
        add_circle_bg: Color::rgb(0.9, 0.9, 0.9),
        add_rectangle_bg: Color::rgb(0.9, 0.9, 0.9),
        remove_node_bg: Color::rgb(0.9, 0.9, 0.9),
        arrow_btn_bg: Color::rgb(0.9, 0.9, 0.9),
        test_pos_btn_bg: Color::rgb(0.9, 0.9, 0.9),
        font_back_btn_bg: Color::rgb(0.9, 0.9, 0.9),
        celebrate_btn_bg: Color::rgb(0.9, 0.9, 0.9),
        tab_bg: Color::rgb(0.9, 0.9, 0.9),
        add_tab_bg: Color::rgb(0.9, 0.9, 0.9),
        bottom_panel_bg: Color::rgb(189.0 / 255.0, 189.0 / 255.0, 189.0 / 255.0),
        node_bg: Color::rgb(0.9, 0.9, 0.9),
        node_border: Color::rgb(0.8, 0.8, 0.8),
        arrow_connector: Color::rgb(0.5, 0.5, 0.5),
        arrow: Color::rgb(0.5, 0.5, 0.5),
        selected_node_border: Color::rgb(0.8, 0.8, 0.8),
        modal_bg: Color::rgb(0.9, 0.9, 0.9),
        ok_cancel_bg: Color::rgb(0.9, 0.9, 0.9),
        ok_cancel_font: Color::rgb(0.1, 0.1, 0.1),
        shadow: Color::rgb(0.98, 0.98, 0.98),
        modal_text_input_bg: Color::rgb(0.9, 0.9, 0.9),
        tooltip_bg: Color::rgb(0.9, 0.9, 0.9),
        code_theme_name: "base16-ocean.dark".to_string(),
    }
}

pub fn velo_dark() -> Theme {
    Theme {
        font: Color::rgb(1.0, 1.0, 1.0),
        btn_border: Color::rgb(0.8, 0.8, 0.8),
        menu_bg: Color::rgb(245.0 / 255.0, 245.0 / 255.0, 245.0 / 255.0),
        menu_btn_bg: Color::rgb(0.2, 0.2, 0.2),
        left_panel_bg: Color::rgb(224.0 / 255.0, 224.0 / 255.0, 224.0 / 255.0),
        canvas_bg_color: Some(Color::rgb(0.3, 0.3, 0.3)),
        canvas_bg_img: None,
        doc_list_bg: Color::rgb(0.2, 0.2, 0.2),
        search_box_bg: Color::rgb(0.25, 0.25, 0.25),
        search_box_border: Color::rgb(0.2, 0.2, 0.2),
        add_circle_bg: Color::rgb(0.2, 0.2, 0.2),
        add_rectangle_bg: Color::rgb(0.2, 0.2, 0.2),
        remove_node_bg: Color::rgb(0.2, 0.2, 0.2),
        arrow_btn_bg: Color::rgb(0.2, 0.2, 0.2),
        test_pos_btn_bg: Color::rgb(0.2, 0.2, 0.2),
        font_back_btn_bg: Color::rgb(0.2, 0.2, 0.2),
        celebrate_btn_bg: Color::rgb(0.2, 0.2, 0.2),
        tab_bg: Color::rgb(0.2, 0.2, 0.2),
        add_tab_bg: Color::rgb(0.2, 0.2, 0.2),
        bottom_panel_bg: Color::rgb(0.1, 0.1, 0.1),
        node_bg: Color::rgb(0.2, 0.2, 0.2),
        node_border: Color::rgb(0.3, 0.3, 0.3),
        arrow_connector: Color::rgb(0.8, 0.8, 0.8),
        arrow: Color::rgb(0.8, 0.8, 0.8),
        selected_node_border: Color::rgb(0.3, 0.3, 0.3),
        modal_bg: Color::rgb(0.2, 0.2, 0.2),
        ok_cancel_bg: Color::rgb(0.2, 0.2, 0.2),
        ok_cancel_font: Color::rgb(0.9, 0.9, 0.9),
        shadow: Color::rgb(0.1, 0.1, 0.1),
        modal_text_input_bg: Color::rgb(0.2, 0.2, 0.2),
        tooltip_bg: Color::rgb(0.2, 0.2, 0.2),
        code_theme_name: "base16-ocean.dark".to_string(),
    }
}

pub fn get_theme_by_name(theme_name: &String) -> Theme {
    match theme_name.as_str() {
        "light" => velo_light(),
        "dark" => velo_dark(),
        _ => velo_light(),
    }
}
